<html>
<head>    
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Blockchain based folk election project for Hong Kong 2019 District Council Election">
    <!-- SITE TITLE -->
    <title>民間區塊鏈2019區議會選舉 Folk 2019 Hong Kong District Council Election on Blockchain</title>
    
	<style id="antiClickjack">
		body{display:none !important;}
	</style>
	<script type="text/javascript">
		if (self === top) {
			var antiClickjack = document.getElementById("antiClickjack");
			antiClickjack.parentNode.removeChild(antiClickjack);
		} else {
			top.location = self.location;
		}
		function addText(root, str){
			var text = document.createTextNode(str);
			document.getElementById(root).appendChild(text);
		}
		function escapeHTML(text) {
		  var map = {
			'&': '&amp;',
			'<': '&lt;',
			'>': '&gt;',
			'"': '&quot;',
			"'": '&#039;'
		  };

		  return text.replace(/[&<>"']/g, function(m) { return map[m]; });
		}
		var encryption_public_key = "";
		(function () {
			// read text from URL location
			var xhr = new XMLHttpRequest();
			xhr.open('GET', 'config.json', true);
			xhr.onreadystatechange = function () {
				if (xhr.readyState === 4 && xhr.status === 200) {
					var type = xhr.getResponseHeader('Content-Type');
					if (type.indexOf("text") !== 1) {
						var response = xhr.responseText;
						response = JSON.parse(response);
						if(response && response["encryption_public_key"]){
							encryption_public_key = encodeURIComponent(response["encryption_public_key"]);
						}
					}
				}
			}
			xhr.send(null);
		})();
		(function () {
			// read text from URL location
			var xhr = new XMLHttpRequest();
			xhr.open('GET', 'result_test.json', true);
			xhr.onreadystatechange = function () {
				if (xhr.readyState === 4 && xhr.status === 200) {
					var type = xhr.getResponseHeader('Content-Type');
					if (type.indexOf("text") !== 1) {
						var response = xhr.responseText;
						response = JSON.parse(response);
						//How to show the votes??
					}
				}
			}
			xhr.send(null);
		})();
		function encode_utf8(s){
		  return encodeURIComponent(s).replace(new RegExp("%","g"),"").toLowerCase();
		}
	</script>
	<style>
	*{
		margin: auto;
		text-align: center;
		width: 80%;
	}
	img{
		width: 60%;
	}
	button{
		width:30%;
	}
	</style>
</head>
<body>
<h1>民間區塊鏈2019區議會選舉正式結果</h1>
<h1>Folk 2019 Hong Kong district council election on blockchain real polling result</h1>
<br><br>
<h3>投票結果和分站票數 Voting Results and Received Votes from Votebox</h3> 
<h3>Available after 12:01am 25th Nov 2019</h3> 
<br>
<p>分區結果 Council Results</p>
<div id="councilList"></div>

<br>
<p>票站得到票數 Votebox Votes</p>
<div id="voteBoxList"></div>


<br><br>
<p>   </p>
</body>
</html>